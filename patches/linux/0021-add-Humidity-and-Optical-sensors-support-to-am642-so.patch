From 3334ef59700ada255c094ceab37efd2955ca0b21 Mon Sep 17 00:00:00 2001
From: Yazan Shhady <yazan.shhady@solid-run.com>
Date: Thu, 30 Mar 2023 13:20:36 +0300
Subject: [PATCH] add Humidity and Optical sensors support to am642-solidrun
 dts

- Optical Sensor - OPT3002DNPR
- Humidity Temperature - HDC2010
---
 arch/arm64/boot/dts/ti/am642-solidrun.dts | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

diff --git a/arch/arm64/boot/dts/ti/am642-solidrun.dts b/arch/arm64/boot/dts/ti/am642-solidrun.dts
index 3020a523d..b09e2457b 100644
--- a/arch/arm64/boot/dts/ti/am642-solidrun.dts
+++ b/arch/arm64/boot/dts/ti/am642-solidrun.dts
@@ -460,6 +460,12 @@ main_ecap0_pins_default: main-ecap0-pins-default {
 			AM64X_IOPAD(0x0270, PIN_INPUT, 0) /* (D18) ECAP0_IN_APWM_OUT */
 		>;
 	};
+
+  pinctrl_i2c0_sensors: i2c0grp-sensors {
+    pinctrl-single,pins = <
+      AM64X_IOPAD(0x0098, PIN_INPUT, 7) /* (W19) GPMC0_WAIT0.GPIO0_37 */
+    >;
+  };
 };
 
 &wkup_pmx0 {
@@ -518,6 +524,7 @@ &mcu_uart1 {
 &main_i2c0 {
 	pinctrl-names = "default";
 	pinctrl-0 = <&i2c0_pins>;
+  pinctrl-1 = <&pinctrl_i2c0_sensors>;
 	clock-frequency = <400000>;
 
 
@@ -526,6 +533,21 @@ som_eeprom: eeprom@50 {
 		reg = <0x50>;
     pagesize = <16>;
   };
+
+  /* Optical Sensor - OPT3002DNPR*/
+  opt3002@44 {
+        compatible = "ti,opt3001";
+        reg = <0x44>;
+        interrupt-parent = <&main_gpio0>; /*GPIO0_37*/
+        interrupts = <28 IRQ_TYPE_EDGE_FALLING>;
+  };
+
+  /* Humidity Temperature - HDC2010 */
+  humidity@40 {
+    compatible = "ti,hdc2010";
+    reg = <0x40>;
+  };
+
 };
 
 
-- 
2.25.1

